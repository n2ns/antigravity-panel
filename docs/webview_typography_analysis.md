# Webview 字体排版系统分析报告 (最终优化版)

## 1. 系统概述
本报告总结了 Webview 界面在经过字号收敛和响应式重构后的字体系统。目前系统已完全脱离硬编码像素 (`px`)，采用基于 VS Code 基础字号的 `em` 比例体系，实现了完美的跨主题缩放支持。

通过多次整合，字号层级从最初的 **14 种** 精简至 **9 种**，显著降低了样式的维护成本，同时保持了精细的视觉层级。

---

## 2. 核心排版规范

### A. 骨干文字层级 (Primary & Secondary)
这是面板中出现频率最高的文字，构成了界面的主要骨架。

**0.90em - 动作按钮 (Buttons & Stats - 已整合)**
- 导航按钮 (Toolbar)
- 动作按钮 (Action / Recovery Button)
- 底部讨论按钮 (Discussions Button)
- 链接按钮 (Link Button)
- 积分数值 (Credit Value)
- 区块项目计数 (Section Stats)

**0.85em - 主要文本内容 (Primary Content Labels)**
- 区块标题 (Section Header)
- 树节点标签 (Folder/File Label)
- 用户资料信息 (邮箱与行内容)
- 连接提示消息 (Connection Hint)

**0.80em - 辅助信息层级 (Secondary/Support Info)**
- 全局工具提示 (Global Tooltip)
- 图表图例与步骤信息
- 仪表盘重置时间标签 (Reset Time)
- 积分条细项 (Credit Item)
- 树状视图区块数值 (Section Stats)
- 文件夹大小 (Folder Size)

**0.75em - 次级标记 (Secondary Markers - 已整合)**
- 侧边栏底部标语 (Sidebar Tagline)
- 仪表盘模型名称 (Gauge Label)
- 用户等级徽章 (Tier Badge)

---

### C. 微观辅助 (Micro Details)
用于极小空间的单位或补充说明。

**0.62em - 副标签 (Sub-labels)**
- 仪表盘副标题/补充说明

**0.55em - 单位符号 (Units)**
- 仪表盘中的百分比符号 (%)

---

## 3. 图标系统 (Codicons)
图标采用略大于关联文字的比例，以抵消字体形状的视觉空隙，达到平衡的对比度。

**1.10em - 标准图标 (Standard Icons)**
- 对应 0.80em 文字。
- 用于工具栏按钮、动作按钮、链接按钮。

**1.25em - 状态图标 (Status & Hero Icons)**
- 对应 0.85em+ 文字。
- 用于用户头像、页脚讨论、连接状态警告。

**0.80em - 特殊用途 (Utility Icons)**
- 文件夹删除图标（紧凑型，强制与文字同大）。

---

## 4. 数据可视化核心 (Metrics)
用于仪表盘大数值的强调。

**1.15em - 仪表盘中央数值**
- 统一了原有的 1.12em 和 1.15em，实现视觉一致性。

---

## 5. 整合成果与建议

### 整合成果
1. **极简映射**：成功将 `0.78em`、`0.80em`、`0.82em` 三个极近字号合并为唯一的 **`0.80em`**。
2. **比例规范**：建立了固定的图标/文字对比比例，确保 UI 逻辑性。
3. **完全响应式**：界面可以随 VS Code 的窗口缩放完美同步变化，解决了高分屏适配问题。

### 维护指导
- **优先复用**：新增 UI 元素时，请优先从 **0.80em** (操作) 或 **0.85em** (展示) 中选择。
- **图标配对**：按钮内图标固定使用 **1.1em**，独立大图标使用 **1.25em**。
- **拒绝像素**：禁止再在 CSS 中使用 `px` 设定字号，确保全系统的 `em` 纯度。
   
